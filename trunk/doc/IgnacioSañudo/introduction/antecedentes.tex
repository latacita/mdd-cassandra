%%==================================================================%%
%% Author : Sañudo Olmedo, Ignacio                                  %%
%%          Sánchez Barreiro, Pablo                                 %%
%% Version: 1.3, 18/06/2014                                         %%                                                                                    %%                                                                  %%
%% Memoria del Proyecto Fin de Carrera                              %%
%% Introduccion/Antecedentes MDE-MDD                                %%
%%==================================================================%%

Según (\cite{diegoAlsonso:2011}) la Ingeniería Dirigida por Modelos (MDE) puede ser definida como la \emph{"técnica que hace uso, de forma sistemática y reiterada, de modelos como elementos primordiales a largo de todo el proceso de desarrollo. MDE trabaja con modelos como entradas al proceso y produce modelos como salidas del mismo"}. El concepto de Desarrollo Dirigido por Modelos (MDD) es como se puede observar en la Figura~\ref{back:fig:MDA}, un subconjunto de la Ingeniería Dirigida por Modelos (MDE). A diferencia de MDD,(\cite{whittle:2014}) MDE va más allá de las actividades de desarrollo puros y abarca otras tareas basadas en el proceso de modelado por ejemplo, aplicar ingeniería inversa a un modelo.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.70\linewidth]{background/images/MDAMDDMDEMBE.eps} \\
  \caption{Capas del modelado de lenguajes}
  \label{back:fig:MDA}
\end{figure}

Tanto MDD como MDE aportan varias ventajas respecto a métodos de desarrollo tradicionales, podemos encontrar las siguientes ventajas (\cite{johan:2009}), (\cite{jose:2013}):
\begin{enumerate}
\item Tiempo de desarrollo menor.
\item Reutilización de componentes en distintos sistemas.
\item Alto nivel de abstracción para escribir aplicaciones a través de la arquitectura de niveles del meta-modelado y las capas de modelado de MDD. Este beneficio favorece diseñar una aplicación partiendo de lo mas general a lo más concreto, es decir, son independientes de la tecnología.
\item Un menor número de líneas de código escritas, ya que los niveles de abstracción que aporta MDD a través de los modelos y meta-modelos diseñados fomentan el reúso del código y de los modelos.
\item Si se centran los esfuerzos en el generador de código se puede mejorar la calidad del software, además reducimos la cantidad de errores así como el tiempo dedicado en pruebas e incurrimos en buenas prácticas de desarrollo.
\end{enumerate}

Una vez entendidos los conceptos anteriores y los beneficios que nos proporciona este enfoque de desarrollo se presentan los conceptos básicos que nos ayudaran a comprender como funciona MDD.

El enfoque MDD parte del meta-modelo (\cite{kleppe:2008}), un meta-modelo es la representación del lenguaje que se desea implementar definido en sintaxis abstracta. Un lenguaje de modelado está formado de sintaxis y semántica. La sintaxis se puede entender como el conjunto de normas o reglas de escritura que ha de tener el lenguaje. La semántica refleja el significado de la sintaxis.
La definición de esta sintaxis abstracta forma parte del primer paso en el proceso de diseño de un lenguaje, esta sintaxis abstracta especifica la forma del meta-modelo. Clases y relaciones de dominio son los principales elementos que forman parte de un meta-modelo. A su vez los meta-modelos son considerados instancias de estos lenguajes de modelado. Un ejemplo de meta-modelo es la definición de UML (\cite{omg:uml:2005}). En UML por ejemplo elementos como las clases, paquetes o atributos se pueden usar dentro de UML.

El siguiente paso consiste en la definición de la sintaxis concreta, este paso se basa en la representación de los elementos bien definidos en la sintaxis abstracta, esto es la creación de un modelo. Un modelo es la representación concreta de los elementos descritos en la sintaxis abstracta o meta-modelo. Por lo tanto un modelo siempre posee las propiedades y cumple las restricciones de su meta-modelo. En la figura~\ref{back:fig:ejALL} se pueden observar representaciones de los elementos descritos.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=1.1\linewidth]{background/images/ejALL.eps} \\
  \caption{(a) Meta-modelo, (b) Sintaxis concreta, (c) Sintaxis grafica}
  \label{back:fig:ejALL}
\end{figure}

Según (\cite{kleppe:2008}), formalizando los conceptos anteriores estos son los pasos que hay que realizar para la creación de un nuevo lenguaje de modelado, esto nos servirá para establecer las bases que ha de tener el lenguaje de modelado de Cassandra:
\begin{enumerate}
\item En primer lugar hay que establecer cuál va a ser la sintaxis de nuestro lenguaje de modelado. Para ello hay que crear un meta-modelo. El meta-modelo ha de ser construido utilizando un lenguaje de meta-modelado, el lenguaje de modelado utilizado en el presente proyecto es ECore (\cite{budinsky:2008}). Además de ECore hay otros lenguajes de modelado como puede ser MOF (\cite{omg:xmi:2007}).
\item El siguiente paso consiste en la definición de la sintaxis concreta de nuestro lenguaje de modelado. La creación de un modelo bien definido a partir del meta-modelo creado en el paso anterior.
\item La definición de la semántica del lenguaje de modelado es el último paso, por ejemplo crear un generador que transforme los elementos del modelo en elementos de un lenguaje distinto bien definido.
\end{enumerate}

La herramienta utilizada para crear el lenguaje de modelado correspondiente a Cassandra es EMF, un plugin de eclipse que nos permite crear y trabajar con lenguajes de modelado.
MDD proporciona las transformaciones de modelos como principal herramienta para trabajar con modelos en el proceso de desarrollo software. Existen dos tipos de transformaciones:
\begin{enumerate}
\item \emph{Model to model (M2M)}. Dado un modelo de entrada esta transformación produce otro modelo como salida. Este tipo de transformación se puede utilizar de varias formas, la primera transformar un modelo dándole propiedades que no posee el original. La segunda es la que se utilizara en el presente proyecto, dado un modelo origen definido en UML realizar una transformación a un modelo destino definido en Cassandra (Figura~\ref{back:fig:transformacion}).

\item \emph{Model to text (M2T)}. Es la ultima transformación que se realiza en la etapa de desarrollo para la creación del generador de código de la aplicación. Estas transformaciones no generan un modelo de salida sino una representación textual del modelo que se desea transformar. Se puede utilizar para generar por ejemplo una representación del modelo transformado en formato HTML.
\end{enumerate}

\begin{figure}[!tb]
  \centering
  \includegraphics[width=1.05\linewidth]{background/images/transformacion.eps} \\
  \caption{Proceso de transformación de un modelo}
  \label{back:fig:transformacion}
\end{figure}

Para explicar todo este proceso se presenta un sencillo ejemplo donde se explican cómo se utilizan las técnicas de desarrollo dirigido por modelos, Model to Model (M2M) y Model to Text (M2T). Para aplicar M2M nos harán falta dos meta-modelos (uno origen y uno destino) y para aplicar M2T se ha diseñado un sencillo generador de código HTML.

La figura~\ref{back:fig:grafoMetamodelo} muestra la representación de la sintaxis abstracta o meta-modelo del lenguaje. El meta-modelo consiste en un sencillo grafo el cual está compuesto de un número indefinido de nodos, estos nodos están conectados entre sí mediante aristas. Estos nodos como se ve en la imagen tienen un atributo de tipo "Tcolor" por lo que un Nodo puede ser de color rojo o de color azul. Por lo tanto un modelo bien definido de este meta-modelo será un modelo que contenga un grafo con un numero cualquiera de Nodos conectados dos a dos entre sí mediante aristas.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/grafoMetamodelo.eps} \\
  \caption{Meta-modelo del grafo}
  \label{back:fig:grafoMetamodelo}
\end{figure}

A continuación se presenta otro meta-modelo como se ve en la figura~\ref{back:fig:metamodeloRed}. Este meta-modelo consiste en la representación de una red de computadores que está compuesta de PC's y Routers estos análogamente al anterior meta-modelo están conectados indistintamente entre sí mediante cables. Tanto los nodos como los cables tiene un atributo de tipo "String" para definir el nombre.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/metamodeloRed.eps} \\
  \caption{Meta-modelo de la red}
  \label{back:fig:metamodeloRed}
\end{figure}

Nuestro objetivo es la transformación de un modelo de tipo Grafo a un modelo de tipo Red, dependiendo del color del Nodo, el Nodo será transformado en un PC o en un Router (Rojo-PC, Azul-Router) para realizar esta transformación se utilizan técnicas M2M.
Una vez definido el modelo de tipo Red deseamos crear una representación textual del modelo generado, para ello utilizamos técnicas M2T. En este caso la representación del modelo es realizada en formato HTML. La representación del código generado utilizando un modelo de tipo grafo y aplicando la transformación entre modelos es el que se puede observar en la figura~\ref{back:fig:ejGeneradorHTML}.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/ejGeneradorHTML.eps} \\
  \caption{Resultado transformación HTML}
  \label{back:fig:ejGeneradorHTML}
\end{figure}

El proceso que se ha seguido es explicado más detalladamente en capítulos posteriores con un caso de estudio analizado, tanto las técnicas de transformación de modelos como la realización del generador de código así como la creación de los modelos.



