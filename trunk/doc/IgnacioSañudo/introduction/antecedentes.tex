%%==================================================================%%
%% Author : Sañudo Olmedo, Ignacio                                  %%
%%          Sánchez Barreiro, Pablo                                 %%
%% Version: 1.3, 18/06/2014                                         %%                                                                                    %%                                                                  %%
%% Memoria del Proyecto Fin de Carrera                              %%
%% Introduccion/Antecedentes MDE-MDD                                %%
%%==================================================================%%

Según \cite{diegoAlsonso:2011}, la \emph{Ingeniería Dirigida por Modelos} o \emph{Model-Driven Engineering})) puede ser definida como la \emph{"técnica que hace uso, de forma sistemática y reiterada, de modelos como elementos primordiales a largo de todo el proceso de desarrollo software."}. En un proceso de desarrollo software dirigido por modelos, se crean unos modelos de alto nivel del sistema a desarrollar, los cuales se van refinando a través de distintas etapas, hasta obtener una implementación completa del mismo. Dicho proceso de refinamiento se intenta automatizar, en la medida de lo posible, por medio de transformaciones entre modelos, o modelo a texto.

Para poder manipular los modelos de un proceso de desarrollo, necesitamos que dichos modelos sean procesables por una computadora. Esto se consigue definiendo formalmente lenguajes de modelado mediante una estructura compuesta de un metamodelo al menos, más una sintaxis concreta y una semántica. A continuación, describimos cada uno de estos elementos.

%%==================================================================%%
%% NOTA(Pablo): Esto son cuestiones filosóficas que nada aportan    %%
%%              a tu proyecto                                       %%
%%==================================================================%%
%%
%% El concepto de Desarrollo Dirigido por Modelos (MDD) es como se
%% puede observar en la Figura~\ref{back:fig:MDA}, un subconjunto de
%% la Ingeniería Dirigida por Modelos (MDE). A diferencia de MDD,
%% (\cite{whittle:2014}) \imp{MDE} va más allá de las actividades
%% de desarrollo puros y abarca otras tareas basadas en el proceso
%% de modelado por ejemplo, aplicar ingeniería inversa a un modelo.
%%
%%==================================================================%%

%% \begin{figure}[!tb]
%%  \centering
%%  \includegraphics[width=.70\linewidth]{background/images/MDAMDDMDEMBE.eps} \\
%%  \caption{Capas del modelado de lenguajes}
%%  \label{back:fig:MDA}
%% \end{figure}

%%==================================================================%%
%% NOTA(Pablo): Esto en este punto de la sección no se entiende,
%%              ponerlo mejor al final o quitarlo directamente
%%==================================================================%%
%%
%% Tanto \imp{MDD} como \imp{MDE} aportan varias ventajas respecto a métodos
%% de desarrollo tradicionales, podemos encontrar las siguientes ventajas
%% (\cite{johan:2009}), (\cite{jose:2013}):
%% \begin{enumerate}
%% \item Tiempo de desarrollo menor.
%% \item Reutilización de componentes en distintos sistemas.
%% \item Alto nivel de abstracción para escribir aplicaciones a través
%%       de la arquitectura de niveles del meta-modelado y las capas de
%%       modelado de MDD. Este beneficio favorece diseñar una aplicación
%%       partiendo de lo mas general a lo más concreto, es decir, son
%%       independientes de la %% tecnología.
%% \item Un menor número de líneas de código escritas, ya que los niveles
%%       de abstracción que aporta MDD a través de los modelos y meta-modelos diseñados
%%       fomentan el reúso del código y de los modelos.
%% \item Si se centran los esfuerzos en el generador de código se puede mejorar la calidad
%% del software, además reducimos la cantidad de errores así como el tiempo dedicado en
%% pruebas e incurrimos en buenas prácticas de desarrollo.
%% \end{enumerate}
%%
%% Una vez entendidos los conceptos anteriores y los beneficios que nos proporciona este
%% enfoque de desarrollo se presentan los conceptos básicos que nos ayudaran a comprender
%% como funciona MDD.
%%
%%==================================================================%%

Un lenguaje de modelado está formado de sintaxis y semántica. La sintaxis se puede entender como el conjunto de normas o reglas de escritura que ha de tener el lenguaje. La semántica refleja el significado de la sintaxis.

Un metamodelo es la representación o modelo de la sintaxis del lenguaje que se desea implementar~\cite{kleppe:2008}. Por tanto, cuando tratamos de definir un nuevo lenguaje de modelado, lo primero que debemos hacer es construir su metamodelo. Para ello se utilizan lenguajes de metamodelo, como Ecore~\cite{budinsky:2008} o MOF~\cite{omg:xmi:2007}, los cuales permiten especificar mediante diagramas de clases qué elementos contiene el lenguaje, qué atributos tienen esos elementos y cómo se relacionan.

%%===========================================================================%%
%% TODO                                                                      %%
%% NOTA: Describir un metamodelo ejemplo. Utiliza por                        %%
%%       ejemplo el del grafo o el la red. El que has cogido de alguna web   %%
%%       se ve regular                                                       %%
%%===========================================================================%%

%% Clases y relaciones de dominio son los principales elementos que forman parte de un
%% meta-modelo. A su vez los meta-modelos son considerados instancias de estos
%% lenguajes de modelado. Un ejemplo de meta-modelo es la definición de UML
%% (\cite{omg:uml:2005}). En UML por ejemplo elementos como las clases, paquetes
%% o atributos se pueden usar dentro de UML.

El siguiente paso en la definición de un lenguaje consiste en la definición de su \emph{sintaxis concreta}. En este paso debemos básicamente especificar cómo se representa cada uno de los  elementos definidos en el metamodelo.

%%===========================================================================%%
%% TODO                                                                      %%
%% NOTA: Describir una sibtaxis concreta para el ejemplo anterior.
%%===========================================================================%%

%%===========================================================================%%
%% NOTA: Esto no se entiende, así que lo borro                               %%
%%===========================================================================%%
%%
%% Un modelo es la representación concreta de los elementos descritos en
%% la sintaxis abstracta o meta-modelo. Por lo tanto un modelo siempre
%% posee las propiedades y cumple las restricciones de su meta-modelo. En la
%% figura~\ref{back:fig:ejALL} se pueden observar representaciones de los
%% elementos descritos.
%%
%% \begin{figure}[!tb]
%%  \centering
%%  \includegraphics[width=1.1\linewidth]{background/images/ejALL.eps} \\
%%  \caption{(a) Meta-modelo, (b) Sintaxis concreta, (c) Sintaxis grafica}
%%  \label{back:fig:ejALL}
%% \end{figure}
%%
%%===========================================================================%%

%%===========================================================================%%
%% NOTA: Esto es redundante
%%===========================================================================%%
%%
%% Según (\cite{kleppe:2008}), formalizando los conceptos anteriores estos
%% son los pasos que hay que realizar para la creación de un nuevo lenguaje
%% de modelado, esto nos servirá para establecer las bases que ha de tener
%% el lenguaje de modelado de Cassandra:
%% \begin{enumerate}
%% \item En primer lugar hay que establecer cuál va a ser la sintaxis de
%%       nuestro lenguaje de modelado. Para ello hay que crear un meta-modelo.
%%       El meta-modelo ha de ser construido utilizando un lenguaje de
%%       meta-modelado, el lenguaje de modelado utilizado en el presente
%%      proyecto es ECore (). Además de ECore hay otros lenguajes de modelado
%% como puede ser ).
%% \item El siguiente paso consiste en la definición de la sintaxis
%% concreta de nuestro lenguaje de modelado. La creación de un modelo bien definido
%% a partir del meta-modelo creado en el paso anterior.
%% \item La definición de la semántica del lenguaje de modelado es el último paso,
%% por ejemplo crear un generador que transforme los elementos del modelo en
%% elementos de un lenguaje distinto bien definido.
%% \end{enumerate}
%%
%%===========================================================================%%

Por último, la semántica describiría el significado de cada elemento, o cómo debe interpretarse cada elemento de un modelo. por ejemplo, en un modelo de grafos, una arista entre dos nodos puede significar, si así lo especificamos en la semántica, que los nodos conectados por la arista pueden comunicarse entre ellos mediante algún mecanismo no definido. 

Una vez que tenemos bien definidos una serie de lenguajes de modelado, el siguiente elemento que nos haría falta para poder tener un proceso de desarrollo software dirigido por modelos serían transformaciones automáticas entre modelos. La idea es que las transformaciones se puedan describir de forma algorítmica e implementar en algún lenguaje, de forma que la transformación acepte como entrada un modelo y genere como salida el refinamiento o transformación de ese modelo. 

Para implementar estas transformaciones, se usan una serie de lenguajes específicos para tal propósito, los cuales pueden estructurarse en dos grupos claramente diferenciados.

\begin{enumerate}
    \item \emph{Model to model (M2M)}. Dado un modelo de entrada esta transformación produce otro modelo como salida. El modelo de salida puede ser un modelo en el mismo lenguaje que el original de entrada o un modelo en un lenguaje distinto. En el primer caso, el modelo de salida suele ser una variación del modelo de entrada, al cual se le añaden nuevos elementos y se modifican algunos de los existentes.  
    %% Este tipo de transformación se puede utilizar de varias formas, la primera transformar un modelo dándole propiedades que no
    %% posee el original. La segunda es la que se utilizara en el presente proyecto, dado un modelo origen definido en UML realizar 
    %% una transformación a un modelo destino definido en Cassandra (Figura~\ref{back:fig:transformacion}).
    \item \emph{Model to text (M2T)}. Dado un modelo de entrada, genera texto como salida. Este texto puede ser código de un lenguaje de programación, texto plano para un manual de usuario, etc. 
    
    %% Es la ultima transformación que se realiza en la etapa de desarrollo para la creación del generador de código de la aplicación.
    %% Estas transformaciones no generan un modelo de salida sino una representación textual del modelo que se desea transformar. Se
    %% puede utilizar para generar por ejemplo una representación del modelo transformado en formato HTML.
\end{enumerate}

%%===========================================================================%%
%% NOTA: Las imágenes que no se citen desde el tecto quítalas
%%===========================================================================%%
%%
%% \begin{figure}[!tb]
%%  \centering
%%  \includegraphics[width=1.05\linewidth]{background/images/transformacion.eps} \\
%%  \caption{Proceso de transformación de un modelo}
%%  \label{back:fig:transformacion}
%% \end{figure}
%%
%%===========================================================================%%

%%===========================================================================%%
%% NOTA: Esta frase aquí no aporta nada
%%===========================================================================%%
%%
%% La herramienta utilizada para crear el lenguaje de modelado correspondiente 
%% a Cassandra es \imp{EMF}, un plugin de eclipse que nos permite crear 
%% y trabajar con lenguajes de modelado.
%%
%%===========================================================================%%

Para explicar todo este proceso se presenta un sencillo ejemplo donde se explican cómo se utilizan las técnicas de desarrollo dirigido por modelos, \imp{Model to Model (M2M) y Model to Text (M2T)}. Para aplicar M2M nos harán falta dos metamodelos (uno origen y uno destino) y para aplicar M2T utilizaremos como destino código HTML.

La figura~\ref{back:fig:grafoMetamodelo} muestra la representación de la sintaxis abstracta o metamodelo del lenguaje de entrada. El metamodelo consiste en un sencillo grafo el cual está compuesto de un número indefinido de nodos, estos nodos están conectados entre sí mediante aristas. Estos nodos, como se ve en la imagen, tienen un atributo de tipo \imp{Tcolor} por lo que un \imp{Nodo} puede ser de color rojo o de color azul. 

%%===========================================================================%%
%% NOTA: Esta figura debe de haber aparecido antes
%%===========================================================================%%

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/grafoMetamodelo.eps} \\
  \caption{Meta-modelo del grafo}
  \label{back:fig:grafoMetamodelo}
\end{figure}

A continuación se presenta otro metamodelo como se ve en la figura~\ref{back:fig:metamodeloRed}. Este metamodelo consiste en la representación de una red de computadores que está compuesta de \imp{PC's} y \imp{Routers}, conectados indistintamente entre sí mediante cables. Tanto los nodos como los cables tiene un atributo de tipo \imp{String} para definir su nombre.

\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/metamodeloRed.eps} \\
  \caption{Meta-modelo de la red}
  \label{back:fig:metamodeloRed}
\end{figure}

Nuestro objetivo es la transformación de un modelo de tipo \imp{Grafo} a un modelo de tipo \imp{Red}, dependiendo del color del \imp{Nodo}, el \imp{Nodo} será transformado en un \imp{PC} o en un \imp{Router} (Rojo-PC, Azul-Router). Para realizar esta transformación se utilizan técnicas M2M.

%%===========================================================================%%
%% NOTA: Deberías mostrar la transformación, sino esto carece de sentido.
%%       Deberías poner el código de la transformación y explicar como funciona
%%===========================================================================%%

Una vez obtenido el modelo de tipo Red, podemos crear una representación textual del modelo generado en HTML utilizando técnicas M2T.  La representación del código generado utilizando un modelo de tipo grafo y aplicando la transformación entre modelos es el que se puede observar en la figura~\ref{back:fig:ejGeneradorHTML}.

%%===========================================================================%%
%% NOTA: Lo mismo de antes, o pones la plantilla o esto no tiene sentido
%%===========================================================================%%


\begin{figure}[!tb]
  \centering
  \includegraphics[width=.8\linewidth]{background/images/ejGeneradorHTML.eps} \\
  \caption{Resultado transformación HTML}
  \label{back:fig:ejGeneradorHTML}
\end{figure}

%%===========================================================================%%
%% NOTA: Confude y sobra
%%===========================================================================%%
%%
%% El proceso que se ha seguido es explicado más detalladamente en capítulos 
%% posteriores con un caso de estudio analizado, tanto las técnicas de 
%% transformación de modelos como la realización del generador de código así 
%% como la creación de los modelos.
%%
%%===========================================================================%%

La siguiente sección describe la metodología y objetivos parciales que habrá de ir satisfaciendo este proyecto.


